RewriteEngine On

# 1. Force HTTPS
RewriteCond %{HTTPS} off
RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

# 2. Allow access to existing files and directories
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# 3. Handle friendly URLs (remove .html)
# If request is for a file without extension, and .html exists, serve it
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}.html -f
RewriteRule ^(.*)$ $1.html [L]

# 4. Custom 404 Page (Optional - ensure you have 404.html)
# ErrorDocument 404 /404.html

# 5. Fix MIME types for JavaScript (Just in case)
<IfModule mod_mime.c>
    AddType application/javascript .js
</IfModule>
